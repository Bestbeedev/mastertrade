import{j as e,u as p,r as d,L as j,t as c}from"./app-B3Y0P8eL.js";import{S as g,a as b,b as w,d as N,e as S,f as k,g as C,h as v,i as o,j as u,M as m,k as x,l as A,A as y}from"./auth-ClV7ZO7P.js";import{b as l,S as B,B as h}from"./index-BS9Mkhtc.js";import{C as L}from"./chevron-right-CR-mXq2c.js";function M({variant:s="header",children:r,...n}){return s==="sidebar"?e.jsx(g,{...n,children:r}):e.jsx("main",{className:"mx-auto flex h-full w-full max-w-7xl flex-1 flex-col gap-4 rounded-xl",...n,children:r})}function T({children:s,variant:r="header"}){const n=p().props.sidebarOpen;return r==="header"?e.jsx("div",{className:"flex min-h-screen w-full flex-col",children:s}):e.jsx(b,{defaultOpen:n,children:s})}function D({...s}){return e.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...s})}function I({className:s,...r}){return e.jsx("ol",{"data-slot":"breadcrumb-list",className:l("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",s),...r})}function O({className:s,...r}){return e.jsx("li",{"data-slot":"breadcrumb-item",className:l("inline-flex items-center gap-1.5",s),...r})}function R({asChild:s,className:r,...n}){const a=s?B:"a";return e.jsx(a,{"data-slot":"breadcrumb-link",className:l("hover:text-foreground transition-colors",r),...n})}function z({className:s,...r}){return e.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:l("text-foreground font-normal",s),...r})}function E({children:s,className:r,...n}){return e.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:l("[&>svg]:size-3.5",r),...n,children:s??e.jsx(L,{})})}function P({breadcrumbs:s}){return e.jsx(e.Fragment,{children:s.length>0&&e.jsx(D,{children:e.jsx(I,{children:s.map((r,n)=>{const a=n===s.length-1;return e.jsxs(d.Fragment,{children:[e.jsx(O,{children:a?e.jsx(z,{children:r.title}):e.jsx(R,{asChild:!0,children:e.jsx(j,{href:r.href,children:r.title})})}),!a&&e.jsx(E,{})]},n)})})})})}function F({breadcrumbs:s=[]}){const{appearance:r,updateAppearance:n}=w(),a=()=>{switch(r){case"dark":return e.jsx(m,{className:"h-4 w-4"});case"light":return e.jsx(u,{className:"h-4 w-4"});default:return e.jsx(x,{className:"h-4 w-4"})}},i=()=>{switch(r){case"dark":return"Sombre";case"light":return"Clair";default:return"Système"}},t=f=>{n(f)};return e.jsxs("header",{className:"flex h-16 shrink-0 items-center  gap-2 border-b border-sidebar-border/50 px-6 transition-[width,height] ease-linear group-has-data-[collapsible=icon]/sidebar-wrapper:h-12 md:px-4",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx(N,{className:"-ml-1"}),e.jsx(P,{breadcrumbs:s})]}),e.jsx(h,{size:"sm",onClick:()=>window.location.reload(),className:"bg-blue-600 hover:bg-blue-700 text-white",children:e.jsx(S,{})}),e.jsx("div",{className:"flex items-center",children:e.jsxs(k,{children:[e.jsx(C,{asChild:!0,children:e.jsxs(h,{variant:"outline",size:"sm",className:"flex items-center gap-2 h-9 w-9 p-0 md:w-auto md:px-2",children:[a(),e.jsx("span",{className:"hidden md:inline text-sm",children:i()})]})}),e.jsxs(v,{align:"end",className:"w-48",children:[e.jsxs("div",{className:"flex items-center justify-between px-2 py-1.5 text-sm font-semibold",children:["Thème",e.jsx("span",{className:"text-xs font-normal text-muted-foreground",children:i()})]}),e.jsxs(o,{onClick:()=>t("light"),className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-4 w-4"}),e.jsx("span",{children:"Clair"})]}),e.jsxs(o,{onClick:()=>t("dark"),className:"flex items-center gap-2",children:[e.jsx(m,{className:"h-4 w-4"}),e.jsx("span",{children:"Sombre"})]}),e.jsxs(o,{onClick:()=>t("system"),className:"flex items-center gap-2",children:[e.jsx(x,{className:"h-4 w-4"}),e.jsx("span",{children:"Système"})]})]})]})})]})}function H({children:s,breadcrumbs:r=[]}){const{user:n}=A();return e.jsxs(T,{variant:"sidebar",children:[e.jsx(y,{user:n}),e.jsxs(M,{variant:"sidebar",className:"overflow-x-hidden",children:[e.jsx(F,{breadcrumbs:r}),s]})]})}const K=({children:s,breadcrumbs:r,...n})=>{const{flash:a}=p().props,i=d.useRef("");return d.useEffect(()=>{const t=JSON.stringify(a||{});!a||i.current===t||(i.current=t,a.success&&c.success(String(a.success)),a.error&&c.error(String(a.error)),a.warning&&c.warning(String(a.warning)),a.info&&c.message(String(a.info)))},[a]),e.jsx(H,{breadcrumbs:r,...n,children:s})};export{K as A};
