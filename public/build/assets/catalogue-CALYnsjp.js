import{r as n,j as e,H as V,L as f}from"./app-CrawgoCe.js";import{A as B}from"./app-layout-DfcnZheQ.js";import{c as P,s as x,f as E,B as l}from"./index-DsAE6S8J.js";import{I as G}from"./input-B0f9F1lR.js";import{C as b,a as $,b as w,c as y,d as F,e as D}from"./card-CAnZI0ok.js";import{B as i}from"./auth-BgAybA0k.js";import{S as Z,a as q,b as J,c as K,d as o}from"./select-PkxRjFfB.js";import{u as O}from"./use-is-admin-CL9Ycbrm.js";import{P as c}from"./package-BVZ4qpjp.js";import{S as Q}from"./search-DQN__-Xh.js";import{G as U}from"./grid-3x3-BbrA8GOs.js";import{L as W}from"./list-kVt8kf_l.js";import{T as C}from"./tag-Dxl-we7c.js";import{Z as h,S as X}from"./zap-B6Pyw_NQ.js";import{C as p}from"./circle-check-big-HH6sNkoO.js";import{P as Y}from"./plus-BRpbWZ94.js";import{S as k}from"./shield-D6ffzbHa.js";import{G as ee}from"./graduation-cap-Dx7YGSx7.js";/* empty css            */import"./chevron-right-CbrF_LyD.js";import"./index-CWelApJs.js";import"./index-BSR4FWt4.js";import"./index-2DkYc2p9.js";import"./index-BJrNQDjd.js";import"./index-BANTq3rp.js";import"./check-BvN_zyQd.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]],S=P("Laptop",se);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],L=P("Sparkles",ae);function Ie({products:z=[]}){const A=O(),M=[{title:"Catalogue",href:x("catalogs")}],[u,j]=n.useState("grid"),[t,_]=n.useState(""),[d,I]=n.useState("all"),[re,te]=n.useState("all"),[le,ie]=n.useState([]),N=s=>(s||"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),R=s=>{const a=(s||"").toLowerCase();return a==="software"?"Logiciel":a==="plugin"?"Extension":a==="template"?"Modèle":a==="addon"?"Module":a==="bundle"?"Pack":s||"Logiciels"},T=s=>{const a=(s||"").toLowerCase();return a.includes("éduc")||a.includes("ecole")||a.includes("scolar")?ee:a.includes("sécur")||a.includes("security")?k:a.includes("prod")||a.includes("product")?h:a.includes("logiciel")||a.includes("soft")||a.includes("app")?S:c},m=(z||[]).map(s=>({id:s.id,name:s.name,description:s.description||"",category:R(s.category),version:s.version||"",sku:s.sku||"",rating:0,reviewCount:0,tags:[],features:Array.isArray(s.features)?s.features.filter(a=>typeof a=="string"&&a.trim().length>0):[],price:typeof s.price_cents=="number"&&s.price_cents>0?E(s.price_cents):"Gratuit",originalPrice:void 0})),H=[{id:"all",name:"Tous les logiciels",count:m.length,icon:c},...Array.from(new Set(m.map(s=>s.category))).map(s=>({id:N(s),name:s,count:m.filter(a=>a.category===s).length,icon:T(s)}))],g=m.filter(s=>d==="all"?!0:N(s.category)===d).filter(s=>t?s.name.toLowerCase().includes(t.toLowerCase())||s.description.toLowerCase().includes(t.toLowerCase()):!0),v=({rating:s,size:a="sm"})=>e.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(r=>e.jsx(X,{className:`${a==="sm"?"h-3 w-3":"h-4 w-4"} ${r<=s?"fill-yellow-400 text-yellow-400":"text-muted-foreground/30"}`},r))});return e.jsxs(B,{breadcrumbs:M,children:[e.jsx(V,{title:"Catalogue"}),e.jsx("div",{className:"border-b bg-gradient-to-r from-background to-background/80",children:e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[e.jsx("h1",{className:"text-4xl font-bold tracking-tight bg-gradient-to-br from-foreground to-foreground/60 bg-clip-text text-transparent",children:"Notre Catalogue"}),e.jsx("p",{className:"text-xl text-muted-foreground mt-4",children:"Découvrez nos solutions logicielles professionnelles conçues pour booster votre productivité"})]}),e.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-4 items-center justify-center",children:[e.jsxs("div",{className:"relative w-full max-w-2xl",children:[e.jsx(Q,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),e.jsx(G,{placeholder:"Rechercher un produit, une catégorie...",className:"pl-12 pr-4 py-3 text-base h-12",value:t,onChange:s=>_(s.target.value)})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"flex border rounded-lg bg-background",children:[e.jsx(l,{variant:u==="grid"?"default":"ghost",size:"sm",onClick:()=>j("grid"),className:"h-10 w-10 p-0",children:e.jsx(U,{className:"h-4 w-4"})}),e.jsx(l,{variant:u==="list"?"default":"ghost",size:"sm",onClick:()=>j("list"),className:"h-10 w-10 p-0",children:e.jsx(W,{className:"h-4 w-4"})})]})})]}),A&&e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx(l,{asChild:!0,size:"sm",children:e.jsx(f,{href:x("admin.products"),children:"Ajouter un produit"})})})]})}),e.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("div",{className:"lg:w-80 flex-shrink-0",children:e.jsxs("div",{className:"sticky top-8 space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Filtres"}),e.jsx(l,{variant:"ghost",size:"sm",className:"text-muted-foreground",children:"Réinitialiser"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[e.jsx(c,{className:"h-5 w-5"}),"Catégories"]}),e.jsx("div",{className:"space-y-2",children:H.map(s=>{const a=s.icon;return e.jsxs("button",{onClick:()=>I(s.id),className:`w-full flex items-center justify-between p-3 rounded-xl text-left transition-all duration-200 ${d===s.id?"bg-primary text-primary-foreground shadow-md":"hover:bg-accent hover:shadow-sm border border-transparent hover:border-border"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(a,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:s.name})]}),e.jsx(i,{variant:"secondary",className:d===s.id?"bg-primary-foreground text-primary":"bg-muted",children:s.count})]},s.id)})})]})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8 p-4 bg-muted/50 rounded-xl",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-muted-foreground",children:[e.jsx("span",{className:"font-semibold text-foreground",children:g.length})," produits trouvés",t&&e.jsxs("span",{children:[' pour "',e.jsx("span",{className:"font-semibold",children:t}),'"']})]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Trier par :"}),e.jsxs(Z,{defaultValue:"popular",children:[e.jsx(q,{className:"w-40",children:e.jsx(J,{})}),e.jsxs(K,{children:[e.jsx(o,{value:"popular",children:"Populaire"}),e.jsx(o,{value:"newest",children:"Nouveauté"}),e.jsx(o,{value:"price-asc",children:"Prix croissant"}),e.jsx(o,{value:"price-desc",children:"Prix décroissant"}),e.jsx(o,{value:"rating",children:"Meilleures notes"})]})]})]})]}),u==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-2 gap-6",children:g.map(s=>e.jsxs(b,{className:"group hover:shadow-xl transition-all duration-300 border-0 bg-gradient-to-br from-card to-card/50 overflow-hidden",children:[e.jsxs($,{className:"pb-4 relative",children:[e.jsx("div",{className:"flex gap-2 absolute top-4 left-8 z-10",children:s.tags?.map((a,r)=>e.jsxs(i,{variant:"secondary",className:a==="Populaire"?"bg-orange-500/10 text-orange-600 border-orange-200 dark:border-orange-800":a==="Promo"?"bg-green-500/10 text-green-600 border-green-200 dark:border-green-800":"bg-blue-500/10 text-blue-600 border-blue-200 dark:border-blue-800",children:[a==="Populaire"&&e.jsx(L,{className:"h-3 w-3 mr-1"}),a==="Promo"&&e.jsx(C,{className:"h-3 w-3 mr-1"}),a==="Nouveau"&&e.jsx(h,{className:"h-3 w-3 mr-1"}),a==="Essentiel"&&e.jsx(p,{className:"h-3 w-3 mr-1"}),a]},r))}),e.jsxs("div",{className:"aspect-video bg-gradient-to-br from-primary/10 to-primary/5 rounded-xl flex items-center justify-center mb-4 relative overflow-hidden",children:[e.jsx(c,{className:"h-12 w-12 text-muted-foreground/50"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]}),e.jsx(w,{className:"text-xl group-hover:text-primary transition-colors line-clamp-2",children:s.name}),e.jsx(y,{className:"line-clamp-2 text-base",children:s.description})]}),e.jsxs(F,{className:"pb-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{rating:Math.floor(s.rating),size:"md"}),e.jsx("span",{className:"font-semibold",children:s.rating}),e.jsxs("span",{className:"text-muted-foreground text-sm",children:["(",s.reviewCount,")"]})]}),e.jsx(i,{variant:"outline",className:"bg-background/50",children:s.category})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-2xl font-bold text-foreground",children:s.price}),s.originalPrice&&e.jsx("div",{className:"text-lg text-muted-foreground line-through",children:s.originalPrice})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.features?.slice(0,2).map((a,r)=>e.jsxs(i,{variant:"outline",className:"text-xs bg-background/50 flex items-center gap-1",children:[e.jsx(p,{className:"h-3 w-3"}),a]},r))})]}),e.jsx(D,{children:e.jsx(l,{asChild:!0,className:"w-full h-12 text-base",size:"lg",children:e.jsxs(f,{href:x("catalogs.show",s.id),children:[e.jsx(Y,{className:"h-5 w-5 mr-2"}),"Voir les détails"]})})})]},s.id))}):e.jsx("div",{className:"space-y-6",children:g.map(s=>e.jsx(b,{className:"group hover:shadow-xl transition-all duration-300 border-0 bg-gradient-to-br from-card to-card/50",children:e.jsxs("div",{className:"flex flex-col lg:flex-row",children:[e.jsx("div",{className:"lg:w-64 flex-shrink-0 p-6",children:e.jsx("div",{className:"aspect-video bg-gradient-to-br from-primary/10 to-primary/5 rounded-xl flex items-center justify-center",children:e.jsx(c,{className:"h-16 w-16 text-muted-foreground/50"})})}),e.jsxs("div",{className:"flex-1 p-6 lg:border-l",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4 mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:s.tags?.map((a,r)=>e.jsxs(i,{variant:"secondary",className:"text-xs flex items-center gap-1",children:[a==="Populaire"&&e.jsx(L,{className:"h-3 w-3"}),a==="Promo"&&e.jsx(C,{className:"h-3 w-3"}),a==="Nouveau"&&e.jsx(h,{className:"h-3 w-3"}),a==="Essentiel"&&e.jsx(p,{className:"h-3 w-3"}),a]},r))}),e.jsx(w,{className:"text-2xl group-hover:text-primary transition-colors mb-2",children:s.name}),e.jsx(y,{className:"text-base mb-3",children:s.description})]}),e.jsx("div",{className:"text-3xl font-bold text-foreground",children:s.price})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{rating:Math.floor(s.rating),size:"md"}),e.jsx("span",{className:"font-semibold",children:s.rating}),e.jsxs("span",{className:"text-muted-foreground text-sm",children:["(",s.reviewCount," avis)"]})]}),e.jsxs(i,{variant:"outline",className:"flex items-center gap-1",children:[s.category==="Logiciels"&&e.jsx(S,{className:"h-3 w-3"}),s.category==="Productivité"&&e.jsx(h,{className:"h-3 w-3"}),s.category==="Sécurité"&&e.jsx(k,{className:"h-3 w-3"}),s.category]})]}),e.jsx(l,{asChild:!0,size:"lg",children:e.jsx(f,{href:x("catalogs.show",s.id),children:"Voir les détails"})})]})]})]})},s.id))})]})]})})]})}export{Ie as default};
