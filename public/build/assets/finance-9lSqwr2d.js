import{U as m,r as J,j as c,H as at}from"./app-B3Y0P8eL.js";import{A as ot}from"./app-layout-BmrSMU7B.js";import{C as B,a as F,b as K,c as R,d as ie}from"./card-B6WQ6knZ.js";import{B as st}from"./auth-ClV7ZO7P.js";import{a as we,s as ve,f as se}from"./index-BS9Mkhtc.js";import{u as lt,a as ct,b as ut,i as z,c as ft,d as dt,e as X,w as Ee,g as Fe,f as Ke,h as Re,C as We,j as D,L as T,m as le,k as ce,A as Me,l as L,n as M,o as ht,p as xe,q as pt,r as Ve,G as Ge,s as Q,t as fe,D as mt,v as He,S as Ne,x as yt,y as vt,z as Xe,E as xt,B as bt,F as gt,H as At,I as Ye,J as be,X as ge,Y as ue,K as jt,M as $e,N as ze,O as ke,P as Ot,Q as Pt,R as wt}from"./chart-B_7uo0zL.js";/* empty css            */import"./chevron-right-CR-mXq2c.js";import"./index-BJlpveyn.js";import"./index-DOpKAXXZ.js";import"./index-B7VOcpwy.js";import"./index-ChXgRNoH.js";var St=["x1","y1","x2","y2","key"],_t=["offset"];function Y(e){"@babel/helpers - typeof";return Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y(e)}function Ce(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function E(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Ce(Object(i),!0).forEach(function(r){Et(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ce(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function Et(e,t,i){return t=Nt(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Nt(e){var t=$t(e,"string");return Y(t)=="symbol"?t:t+""}function $t(e,t){if(Y(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t);if(Y(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},G.apply(this,arguments)}function De(e,t){if(e==null)return{};var i=zt(e,t),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zt(e,t){if(e==null)return{};var i={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;i[r]=e[r]}return i}var kt=function(t){var i=t.fill;if(!i||i==="none")return null;var r=t.fillOpacity,n=t.x,a=t.y,l=t.width,d=t.height,f=t.ry;return m.createElement("rect",{x:n,y:a,ry:f,width:l,height:d,stroke:"none",fill:i,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function qe(e,t){var i;if(m.isValidElement(e))i=m.cloneElement(e,t);else if(X(e))i=e(t);else{var r=t.x1,n=t.y1,a=t.x2,l=t.y2,d=t.key,f=De(t,St),u=D(f,!1);u.offset;var s=De(u,_t);i=m.createElement("line",G({},s,{x1:r,y1:n,x2:a,y2:l,fill:"none",key:d}))}return i}function Ct(e){var t=e.x,i=e.width,r=e.horizontal,n=r===void 0?!0:r,a=e.horizontalPoints;if(!n||!a||!a.length)return null;var l=a.map(function(d,f){var u=E(E({},e),{},{x1:t,y1:d,x2:t+i,y2:d,key:"line-".concat(f),index:f});return qe(n,u)});return m.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Dt(e){var t=e.y,i=e.height,r=e.vertical,n=r===void 0?!0:r,a=e.verticalPoints;if(!n||!a||!a.length)return null;var l=a.map(function(d,f){var u=E(E({},e),{},{x1:d,y1:t,x2:d,y2:t+i,key:"line-".concat(f),index:f});return qe(n,u)});return m.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Lt(e){var t=e.horizontalFill,i=e.fillOpacity,r=e.x,n=e.y,a=e.width,l=e.height,d=e.horizontalPoints,f=e.horizontal,u=f===void 0?!0:f;if(!u||!t||!t.length)return null;var s=d.map(function(h){return Math.round(h+n-n)}).sort(function(h,p){return h-p});n!==s[0]&&s.unshift(0);var o=s.map(function(h,p){var x=!s[p+1],b=x?n+l-h:s[p+1]-h;if(b<=0)return null;var y=p%t.length;return m.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:b,width:a,stroke:"none",fill:t[y],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},o)}function Tt(e){var t=e.vertical,i=t===void 0?!0:t,r=e.verticalFill,n=e.fillOpacity,a=e.x,l=e.y,d=e.width,f=e.height,u=e.verticalPoints;if(!i||!r||!r.length)return null;var s=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,p){return h-p});a!==s[0]&&s.unshift(0);var o=s.map(function(h,p){var x=!s[p+1],b=x?a+d-h:s[p+1]-h;if(b<=0)return null;var y=p%r.length;return m.createElement("rect",{key:"react-".concat(p),x:h,y:l,width:b,height:f,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return m.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},o)}var It=function(t,i){var r=t.xAxis,n=t.width,a=t.height,l=t.offset;return Fe(Ke(E(E(E({},We.defaultProps),r),{},{ticks:Re(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),l.left,l.left+l.width,i)},Bt=function(t,i){var r=t.yAxis,n=t.width,a=t.height,l=t.offset;return Fe(Ke(E(E(E({},We.defaultProps),r),{},{ticks:Re(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),l.top,l.top+l.height,i)},Z={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ae(e){var t,i,r,n,a,l,d=lt(),f=ct(),u=ut(),s=E(E({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Z.stroke,fill:(i=e.fill)!==null&&i!==void 0?i:Z.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:Z.horizontal,horizontalFill:(n=e.horizontalFill)!==null&&n!==void 0?n:Z.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Z.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:Z.verticalFill,x:z(e.x)?e.x:u.left,y:z(e.y)?e.y:u.top,width:z(e.width)?e.width:u.width,height:z(e.height)?e.height:u.height}),o=s.x,h=s.y,p=s.width,x=s.height,b=s.syncWithTicks,y=s.horizontalValues,O=s.verticalValues,g=ft(),v=dt();if(!z(p)||p<=0||!z(x)||x<=0||!z(o)||o!==+o||!z(h)||h!==+h)return null;var A=s.verticalCoordinatesGenerator||It,j=s.horizontalCoordinatesGenerator||Bt,P=s.horizontalPoints,w=s.verticalPoints;if((!P||!P.length)&&X(j)){var S=y&&y.length,N=j({yAxis:v?E(E({},v),{},{ticks:S?y:v.ticks}):void 0,width:d,height:f,offset:u},S?!0:b);Ee(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Y(N),"]")),Array.isArray(N)&&(P=N)}if((!w||!w.length)&&X(A)){var $=O&&O.length,_=A({xAxis:g?E(E({},g),{},{ticks:$?O:g.ticks}):void 0,width:d,height:f,offset:u},$?!0:b);Ee(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Y(_),"]")),Array.isArray(_)&&(w=_)}return m.createElement("g",{className:"recharts-cartesian-grid"},m.createElement(kt,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),m.createElement(Ct,G({},s,{offset:u,horizontalPoints:P,xAxis:g,yAxis:v})),m.createElement(Dt,G({},s,{offset:u,verticalPoints:w,xAxis:g,yAxis:v})),m.createElement(Lt,G({},s,{horizontalPoints:P})),m.createElement(Tt,G({},s,{verticalPoints:w})))}Ae.displayName="CartesianGrid";var Ft=["layout","type","stroke","connectNulls","isRange","ref"],Kt=["key"],Ze;function U(e){"@babel/helpers - typeof";return U=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(e)}function Je(e,t){if(e==null)return{};var i=Rt(e,t),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Rt(e,t){if(e==null)return{};var i={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;i[r]=e[r]}return i}function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},H.apply(this,arguments)}function Le(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function W(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Le(Object(i),!0).forEach(function(r){I(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Le(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function Wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Te(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ue(r.key),r)}}function Mt(e,t,i){return t&&Te(e.prototype,t),i&&Te(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vt(e,t,i){return t=de(t),Gt(e,Qe()?Reflect.construct(t,i||[],de(e).constructor):t.apply(e,i))}function Gt(e,t){if(t&&(U(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ht(e)}function Ht(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qe=function(){return!!e})()}function de(e){return de=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},de(e)}function Xt(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&je(e,t)}function je(e,t){return je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},je(e,t)}function I(e,t,i){return t=Ue(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ue(e){var t=Yt(e,"string");return U(t)=="symbol"?t:t+""}function Yt(e,t){if(U(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t);if(U(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q=(function(e){function t(){var i;Wt(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return i=Vt(this,t,[].concat(n)),I(i,"state",{isAnimationFinished:!0}),I(i,"id",He("recharts-area-")),I(i,"handleAnimationEnd",function(){var l=i.props.onAnimationEnd;i.setState({isAnimationFinished:!0}),X(l)&&l()}),I(i,"handleAnimationStart",function(){var l=i.props.onAnimationStart;i.setState({isAnimationFinished:!1}),X(l)&&l()}),i}return Xt(t,e),Mt(t,[{key:"renderDots",value:function(r,n,a){var l=this.props.isAnimationActive,d=this.state.isAnimationFinished;if(l&&!d)return null;var f=this.props,u=f.dot,s=f.points,o=f.dataKey,h=D(this.props,!1),p=D(u,!0),x=s.map(function(y,O){var g=W(W(W({key:"dot-".concat(O),r:3},h),p),{},{index:O,cx:y.x,cy:y.y,dataKey:o,value:y.value,payload:y.payload,points:s});return t.renderDotItem(u,g)}),b={clipPath:r?"url(#clipPath-".concat(n?"":"dots-").concat(a,")"):null};return m.createElement(T,H({className:"recharts-area-dots"},b),x)}},{key:"renderHorizontalRect",value:function(r){var n=this.props,a=n.baseLine,l=n.points,d=n.strokeWidth,f=l[0].x,u=l[l.length-1].x,s=r*Math.abs(f-u),o=le(l.map(function(h){return h.y||0}));return z(a)&&typeof a=="number"?o=Math.max(a,o):a&&Array.isArray(a)&&a.length&&(o=Math.max(le(a.map(function(h){return h.y||0})),o)),z(o)?m.createElement("rect",{x:f<u?f:f-s,y:0,width:s,height:Math.floor(o+(d?parseInt("".concat(d),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var n=this.props,a=n.baseLine,l=n.points,d=n.strokeWidth,f=l[0].y,u=l[l.length-1].y,s=r*Math.abs(f-u),o=le(l.map(function(h){return h.x||0}));return z(a)&&typeof a=="number"?o=Math.max(a,o):a&&Array.isArray(a)&&a.length&&(o=Math.max(le(a.map(function(h){return h.x||0})),o)),z(o)?m.createElement("rect",{x:0,y:f<u?f:f-s,width:o+(d?parseInt("".concat(d),10):1),height:Math.floor(s)}):null}},{key:"renderClipRect",value:function(r){var n=this.props.layout;return n==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,n,a,l){var d=this.props,f=d.layout,u=d.type,s=d.stroke,o=d.connectNulls,h=d.isRange;d.ref;var p=Je(d,Ft);return m.createElement(T,{clipPath:a?"url(#clipPath-".concat(l,")"):null},m.createElement(ce,H({},D(p,!0),{points:r,connectNulls:o,type:u,baseLine:n,layout:f,stroke:"none",className:"recharts-area-area"})),s!=="none"&&m.createElement(ce,H({},D(this.props,!1),{className:"recharts-area-curve",layout:f,type:u,connectNulls:o,fill:"none",points:r})),s!=="none"&&h&&m.createElement(ce,H({},D(this.props,!1),{className:"recharts-area-curve",layout:f,type:u,connectNulls:o,fill:"none",points:n})))}},{key:"renderAreaWithAnimation",value:function(r,n){var a=this,l=this.props,d=l.points,f=l.baseLine,u=l.isAnimationActive,s=l.animationBegin,o=l.animationDuration,h=l.animationEasing,p=l.animationId,x=this.state,b=x.prevPoints,y=x.prevBaseLine;return m.createElement(Me,{begin:s,duration:o,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var g=O.t;if(b){var v=b.length/d.length,A=d.map(function(S,N){var $=Math.floor(N*v);if(b[$]){var _=b[$],C=L(_.x,S.x),re=L(_.y,S.y);return W(W({},S),{},{x:C(g),y:re(g)})}return S}),j;if(z(f)&&typeof f=="number"){var P=L(y,f);j=P(g)}else if(M(f)||ht(f)){var w=L(y,0);j=w(g)}else j=f.map(function(S,N){var $=Math.floor(N*v);if(y[$]){var _=y[$],C=L(_.x,S.x),re=L(_.y,S.y);return W(W({},S),{},{x:C(g),y:re(g)})}return S});return a.renderAreaStatically(A,j,r,n)}return m.createElement(T,null,m.createElement("defs",null,m.createElement("clipPath",{id:"animationClipPath-".concat(n)},a.renderClipRect(g))),m.createElement(T,{clipPath:"url(#animationClipPath-".concat(n,")")},a.renderAreaStatically(d,f,r,n)))})}},{key:"renderArea",value:function(r,n){var a=this.props,l=a.points,d=a.baseLine,f=a.isAnimationActive,u=this.state,s=u.prevPoints,o=u.prevBaseLine,h=u.totalLength;return f&&l&&l.length&&(!s&&h>0||!xe(s,l)||!xe(o,d))?this.renderAreaWithAnimation(r,n):this.renderAreaStatically(l,d,r,n)}},{key:"render",value:function(){var r,n=this.props,a=n.hide,l=n.dot,d=n.points,f=n.className,u=n.top,s=n.left,o=n.xAxis,h=n.yAxis,p=n.width,x=n.height,b=n.isAnimationActive,y=n.id;if(a||!d||!d.length)return null;var O=this.state.isAnimationFinished,g=d.length===1,v=we("recharts-area",f),A=o&&o.allowDataOverflow,j=h&&h.allowDataOverflow,P=A||j,w=M(y)?this.id:y,S=(r=D(l,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},N=S.r,$=N===void 0?3:N,_=S.strokeWidth,C=_===void 0?2:_,re=pt(l)?l:{},Se=re.clipDot,_e=Se===void 0?!0:Se,oe=$*2+C;return m.createElement(T,{className:v},A||j?m.createElement("defs",null,m.createElement("clipPath",{id:"clipPath-".concat(w)},m.createElement("rect",{x:A?s:s-p/2,y:j?u:u-x/2,width:A?p:p*2,height:j?x:x*2})),!_e&&m.createElement("clipPath",{id:"clipPath-dots-".concat(w)},m.createElement("rect",{x:s-oe/2,y:u-oe/2,width:p+oe,height:x+oe}))):null,g?null:this.renderArea(P,w),(l||g)&&this.renderDots(P,_e,w),(!b||O)&&Ve.renderCallByParent(this.props,d))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:n.curPoints,prevBaseLine:n.curBaseLine}:r.points!==n.curPoints||r.baseLine!==n.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(J.PureComponent);Ze=q;I(q,"displayName","Area");I(q,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Ge.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});I(q,"getBaseValue",function(e,t,i,r){var n=e.layout,a=e.baseValue,l=t.props.baseValue,d=l??a;if(z(d)&&typeof d=="number")return d;var f=n==="horizontal"?r:i,u=f.scale.domain();if(f.type==="number"){var s=Math.max(u[0],u[1]),o=Math.min(u[0],u[1]);return d==="dataMin"?o:d==="dataMax"||s<0?s:Math.max(Math.min(u[0],u[1]),0)}return d==="dataMin"?u[0]:d==="dataMax"?u[1]:u[0]});I(q,"getComposedData",function(e){var t=e.props,i=e.item,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,l=e.yAxisTicks,d=e.bandSize,f=e.dataKey,u=e.stackedData,s=e.dataStartIndex,o=e.displayedData,h=e.offset,p=t.layout,x=u&&u.length,b=Ze.getBaseValue(t,i,r,n),y=p==="horizontal",O=!1,g=o.map(function(A,j){var P;x?P=u[s+j]:(P=Q(A,f),Array.isArray(P)?O=!0:P=[b,P]);var w=P[1]==null||x&&Q(A,f)==null;return y?{x:fe({axis:r,ticks:a,bandSize:d,entry:A,index:j}),y:w?null:n.scale(P[1]),value:P,payload:A}:{x:w?null:r.scale(P[1]),y:fe({axis:n,ticks:l,bandSize:d,entry:A,index:j}),value:P,payload:A}}),v;return x||O?v=g.map(function(A){var j=Array.isArray(A.value)?A.value[0]:null;return y?{x:A.x,y:j!=null&&A.y!=null?n.scale(j):null}:{x:j!=null?r.scale(j):null,y:A.y}}):v=y?n.scale(b):r.scale(b),W({points:g,baseLine:v,layout:p,isRange:O},h)});I(q,"renderDotItem",function(e,t){var i;if(m.isValidElement(e))i=m.cloneElement(e,t);else if(X(e))i=e(t);else{var r=we("recharts-area-dot",typeof e!="boolean"?e.className:""),n=t.key,a=Je(t,Kt);i=m.createElement(mt,H({},a,{key:n,className:r}))}return i});function ee(e){"@babel/helpers - typeof";return ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ee(e)}function qt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zt(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rt(r.key),r)}}function Jt(e,t,i){return t&&Zt(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qt(e,t,i){return t=he(t),Ut(e,et()?Reflect.construct(t,i||[],he(e).constructor):t.apply(e,i))}function Ut(e,t){if(t&&(ee(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return er(e)}function er(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(et=function(){return!!e})()}function he(e){return he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},he(e)}function tr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oe(e,t)}function Oe(e,t){return Oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Oe(e,t)}function tt(e,t,i){return t=rt(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function rt(e){var t=rr(e,"string");return ee(t)=="symbol"?t:t+""}function rr(e,t){if(ee(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t);if(ee(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var me=(function(e){function t(){return qt(this,t),Qt(this,t,arguments)}return tr(t,e),Jt(t,[{key:"render",value:function(){return null}}])})(J.Component);tt(me,"displayName","ZAxis");tt(me,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var ir=["option","isActive"];function ne(){return ne=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ne.apply(this,arguments)}function nr(e,t){if(e==null)return{};var i=ar(e,t),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ar(e,t){if(e==null)return{};var i={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;i[r]=e[r]}return i}function or(e){var t=e.option,i=e.isActive,r=nr(e,ir);return typeof t=="string"?J.createElement(Ne,ne({option:J.createElement(yt,ne({type:t},r)),isActive:i,shapeType:"symbols"},r)):J.createElement(Ne,ne({option:t,isActive:i,shapeType:"symbols"},r))}function te(e){"@babel/helpers - typeof";return te=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},te(e)}function ae(){return ae=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ae.apply(this,arguments)}function Ie(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),i.push.apply(i,r)}return i}function k(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Ie(Object(i),!0).forEach(function(r){V(e,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Ie(Object(i)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(i,r))})}return e}function sr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Be(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nt(r.key),r)}}function lr(e,t,i){return t&&Be(e.prototype,t),i&&Be(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function cr(e,t,i){return t=pe(t),ur(e,it()?Reflect.construct(t,i||[],pe(e).constructor):t.apply(e,i))}function ur(e,t){if(t&&(te(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fr(e)}function fr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function it(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(it=function(){return!!e})()}function pe(e){return pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},pe(e)}function dr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pe(e,t)}function Pe(e,t){return Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Pe(e,t)}function V(e,t,i){return t=nt(t),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function nt(e){var t=hr(e,"string");return te(t)=="symbol"?t:t+""}function hr(e,t){if(te(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var r=i.call(e,t);if(te(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ye=(function(e){function t(){var i;sr(this,t);for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return i=cr(this,t,[].concat(n)),V(i,"state",{isAnimationFinished:!1}),V(i,"handleAnimationEnd",function(){i.setState({isAnimationFinished:!0})}),V(i,"handleAnimationStart",function(){i.setState({isAnimationFinished:!1})}),V(i,"id",He("recharts-scatter-")),i}return dr(t,e),lr(t,[{key:"renderSymbolsStatically",value:function(r){var n=this,a=this.props,l=a.shape,d=a.activeShape,f=a.activeIndex,u=D(this.props,!1);return r.map(function(s,o){var h=f===o,p=h?d:l,x=k(k({},u),s);return m.createElement(T,ae({className:"recharts-scatter-symbol",key:"symbol-".concat(s?.cx,"-").concat(s?.cy,"-").concat(s?.size,"-").concat(o)},vt(n.props,s,o),{role:"img"}),m.createElement(or,ae({option:p,isActive:h,key:"symbol-".concat(o)},x)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,n=this.props,a=n.points,l=n.isAnimationActive,d=n.animationBegin,f=n.animationDuration,u=n.animationEasing,s=n.animationId,o=this.state.prevPoints;return m.createElement(Me,{begin:d,duration:f,isActive:l,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(s),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var p=h.t,x=a.map(function(b,y){var O=o&&o[y];if(O){var g=L(O.cx,b.cx),v=L(O.cy,b.cy),A=L(O.size,b.size);return k(k({},b),{},{cx:g(p),cy:v(p),size:A(p)})}var j=L(0,b.size);return k(k({},b),{},{size:j(p)})});return m.createElement(T,null,r.renderSymbolsStatically(x))})}},{key:"renderSymbols",value:function(){var r=this.props,n=r.points,a=r.isAnimationActive,l=this.state.prevPoints;return a&&n&&n.length&&(!l||!xe(l,n))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(n)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var n=this.props,a=n.points,l=n.xAxis,d=n.yAxis,f=n.children,u=Xe(f,xt);return u?u.map(function(s,o){var h=s.props,p=h.direction,x=h.dataKey;return m.cloneElement(s,{key:"".concat(p,"-").concat(x,"-").concat(a[o]),data:a,xAxis:l,yAxis:d,layout:p==="x"?"vertical":"horizontal",dataPointFormatter:function(y,O){return{x:y.cx,y:y.cy,value:p==="x"?+y.node.x:+y.node.y,errorVal:Q(y,O)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,n=r.points,a=r.line,l=r.lineType,d=r.lineJointType,f=D(this.props,!1),u=D(a,!1),s,o;if(l==="joint")s=n.map(function(v){return{x:v.cx,y:v.cy}});else if(l==="fitting"){var h=bt(n),p=h.xmin,x=h.xmax,b=h.a,y=h.b,O=function(A){return b*A+y};s=[{x:p,y:O(p)},{x,y:O(x)}]}var g=k(k(k({},f),{},{fill:"none",stroke:f&&f.fill},u),{},{points:s});return m.isValidElement(a)?o=m.cloneElement(a,g):X(a)?o=a(g):o=m.createElement(ce,ae({},g,{type:d})),m.createElement(T,{className:"recharts-scatter-line",key:"recharts-scatter-line"},o)}},{key:"render",value:function(){var r=this.props,n=r.hide,a=r.points,l=r.line,d=r.className,f=r.xAxis,u=r.yAxis,s=r.left,o=r.top,h=r.width,p=r.height,x=r.id,b=r.isAnimationActive;if(n||!a||!a.length)return null;var y=this.state.isAnimationFinished,O=we("recharts-scatter",d),g=f&&f.allowDataOverflow,v=u&&u.allowDataOverflow,A=g||v,j=M(x)?this.id:x;return m.createElement(T,{className:O,clipPath:A?"url(#clipPath-".concat(j,")"):null},g||v?m.createElement("defs",null,m.createElement("clipPath",{id:"clipPath-".concat(j)},m.createElement("rect",{x:g?s:s-h/2,y:v?o:o-p/2,width:g?h:h*2,height:v?p:p*2}))):null,l&&this.renderLine(),this.renderErrorBar(),m.createElement(T,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!b||y)&&Ve.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:n.curPoints}:r.points!==n.curPoints?{curPoints:r.points}:null}}])})(J.PureComponent);V(ye,"displayName","Scatter");V(ye,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Ge.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});V(ye,"getComposedData",function(e){var t=e.xAxis,i=e.yAxis,r=e.zAxis,n=e.item,a=e.displayedData,l=e.xAxisTicks,d=e.yAxisTicks,f=e.offset,u=n.props.tooltipType,s=Xe(n.props.children,gt),o=M(t.dataKey)?n.props.dataKey:t.dataKey,h=M(i.dataKey)?n.props.dataKey:i.dataKey,p=r&&r.dataKey,x=r?r.range:me.defaultProps.range,b=x&&x[0],y=t.scale.bandwidth?t.scale.bandwidth():0,O=i.scale.bandwidth?i.scale.bandwidth():0,g=a.map(function(v,A){var j=Q(v,o),P=Q(v,h),w=!M(p)&&Q(v,p)||"-",S=[{name:M(t.dataKey)?n.props.name:t.name||t.dataKey,unit:t.unit||"",value:j,payload:v,dataKey:o,type:u},{name:M(i.dataKey)?n.props.name:i.name||i.dataKey,unit:i.unit||"",value:P,payload:v,dataKey:h,type:u}];w!=="-"&&S.push({name:r.name||r.dataKey,unit:r.unit||"",value:w,payload:v,dataKey:p,type:u});var N=fe({axis:t,ticks:l,bandSize:y,entry:v,index:A,dataKey:o}),$=fe({axis:i,ticks:d,bandSize:O,entry:v,index:A,dataKey:h}),_=w!=="-"?r.scale(w):b,C=Math.sqrt(Math.max(_,0)/Math.PI);return k(k({},v),{},{cx:N,cy:$,x:N-C,y:$-C,xAxis:t,yAxis:i,zAxis:r,width:2*C,height:2*C,size:_,node:{x:j,y:P,z:w},tooltipPayload:S,tooltipPosition:{x:N,y:$},payload:v},s&&s[A]&&s[A].props)});return k({points:g},f)});var pr=At({chartName:"ComposedChart",GraphicalChild:[Ye,q,be,ye],axisComponents:[{axisType:"xAxis",AxisComp:ge},{axisType:"yAxis",AxisComp:ue},{axisType:"zAxis",AxisComp:me}],formatAxisMap:jt});function _r({chartData:e=[],totals:t={revenue_cents_total:0,revenue_cents_range:0,orders_range:0},statusCounts:i={},topProducts:r=[],recentOrders:n=[],filters:a={range:30}}){const l={revenue:{label:"Revenus (CFA)",color:"hsl(var(--primary))"},orders:{label:"Commandes",color:"hsl(var(--muted-foreground))"}},d=o=>({pending:"En attente",paid:"Payée",failed:"Échouée",refunded:"Remboursée"})[o]||o,f=Number(a?.range||30),u=[7,30,90],s=Array.isArray(r)?r.map(o=>({name:o.product?.name||"Produit",revenue:(o.revenue_cents||0)/100})):[];return c.jsxs(ot,{breadcrumbs:[{title:"Admin",href:ve("admin")},{title:"Finances",href:ve("admin.finance")}],children:[c.jsx(at,{title:"Admin • Finances"}),c.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-6 space-y-6",children:[c.jsxs(B,{children:[c.jsxs(F,{className:"pb-3",children:[c.jsx(K,{className:"text-base",children:"Période"}),c.jsx(R,{children:"Sélectionnez une période d'analyse"})]}),c.jsx(ie,{className:"flex flex-wrap gap-2",children:u.map(o=>c.jsxs("a",{href:ve("admin.finance",{range:o}),className:`px-3 py-1.5 rounded-md border text-sm ${f===o?"bg-primary text-primary-foreground":"bg-background hover:bg-accent"}`,children:[o," jours"]},o))})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[c.jsx(B,{children:c.jsxs(F,{className:"pb-2",children:[c.jsx(R,{children:"Total revenus"}),c.jsx(K,{className:"text-2xl",children:se(t.revenue_cents_total||0)})]})}),c.jsx(B,{children:c.jsxs(F,{className:"pb-2",children:[c.jsx(R,{children:"Revenus période"}),c.jsx(K,{className:"text-2xl",children:se(t.revenue_cents_range||0)})]})}),c.jsx(B,{children:c.jsxs(F,{className:"pb-2",children:[c.jsx(R,{children:"Commandes période"}),c.jsx(K,{className:"text-2xl",children:t.orders_range||0})]})})]}),c.jsxs(B,{children:[c.jsxs(F,{className:"pb-2",children:[c.jsx(K,{className:"text-base",children:"Répartition des statuts des commandes"}),c.jsx(R,{children:"Mises à jour en temps réel selon la base"})]}),c.jsx(ie,{className:"flex flex-wrap gap-2",children:["paid","pending","failed","refunded"].map(o=>c.jsxs(st,{variant:o==="paid"?"default":o==="pending"?"secondary":o==="failed"?"destructive":"outline",children:[d(o),": ",i?.[o]??0]},o))})]}),c.jsxs(B,{children:[c.jsxs(F,{children:[c.jsxs(K,{children:["Revenus & Commandes (",f," jours)"]}),c.jsx(R,{children:"Suivi quotidien"})]}),c.jsx(ie,{children:c.jsx($e,{config:l,className:"w-full",children:c.jsxs(pr,{data:e,margin:{left:12,right:12},children:[c.jsx(Ae,{vertical:!1,strokeDasharray:"3 3"}),c.jsx(ge,{dataKey:"date",tickLine:!1,axisLine:!1,minTickGap:16}),c.jsx(ue,{yAxisId:"left",tickLine:!1,axisLine:!1,width:40}),c.jsx(ue,{yAxisId:"right",orientation:"right",tickLine:!1,axisLine:!1,width:40}),c.jsx(ze,{cursor:!1,content:c.jsx(ke,{}),formatter:(o,h)=>c.jsx("span",{children:h==="revenue"?`${(Number(o)||0).toLocaleString()} CFA`:`${o}`})}),c.jsx(Ot,{content:c.jsx(Pt,{})}),c.jsx(be,{dataKey:"orders",yAxisId:"right",className:"fill-green-400",fill:"var(--color-orders)",radius:[4,4,0,0]}),c.jsx(Ye,{dataKey:"revenue",yAxisId:"left",type:"monotone",stroke:"var(--color-revenue)",strokeWidth:2,dot:!1})]})})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(B,{children:[c.jsxs(F,{children:[c.jsx(K,{children:"Top produits par revenus"}),c.jsx(R,{children:"Basé sur les commandes payées"})]}),c.jsxs(ie,{children:[s.length>0&&c.jsx("div",{className:"mb-6",children:c.jsx($e,{config:{revenue:{label:"Revenus",color:"hsl(var(--primary))"}},className:"w-full",children:c.jsxs(wt,{data:s,margin:{left:12,right:12},children:[c.jsx(Ae,{vertical:!1,strokeDasharray:"3 3"}),c.jsx(ge,{dataKey:"name",tickLine:!1,axisLine:!1,interval:0,angle:-20,textAnchor:"end",height:50}),c.jsx(ue,{tickLine:!1,axisLine:!1,width:40}),c.jsx(ze,{cursor:!1,content:c.jsx(ke,{}),formatter:o=>c.jsx("span",{children:`${(Number(o)||0).toLocaleString()} CFA`})}),c.jsx(be,{dataKey:"revenue",fill:"var(--color-revenue)",className:"fill-green-500",radius:[4,4,0,0]})]})})}),c.jsx("div",{className:"space-y-3",children:Array.isArray(r)&&r.length>0?r.map(o=>c.jsxs("div",{className:"flex items-center justify-between border-b pb-2",children:[c.jsx("div",{className:"font-medium",children:o.product?.name||"Produit"}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[se(o.revenue_cents||0)," • ",o.orders_count," cmd"]})]},o.product_id)):c.jsx("div",{className:"text-sm text-muted-foreground",children:"Aucune donnée"})})]})]}),c.jsxs(B,{children:[c.jsxs(F,{children:[c.jsx(K,{children:"Commandes récentes"}),c.jsx(R,{children:"10 dernières"})]}),c.jsx(ie,{children:c.jsx("div",{className:"space-y-3",children:Array.isArray(n)&&n.length>0?n.map(o=>c.jsxs("div",{className:"flex items-center justify-between border-b pb-2",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:o.user?.name||"Client"}),c.jsx("div",{className:"text-xs text-muted-foreground",children:o.product?.name||"Produit"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm font-medium",children:se(o.amount||0)}),c.jsx("div",{className:"text-xs text-muted-foreground",children:o.created_at?new Date(o.created_at).toLocaleDateString("fr-FR"):""})]})]},o.id)):c.jsx("div",{className:"text-sm text-muted-foreground",children:"Aucune donnée"})})})]})]})]})]})}export{_r as default};
