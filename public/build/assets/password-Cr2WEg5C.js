import{r as m,j as e,H as k,F as f}from"./app-CrawgoCe.js";import{q as g}from"./index-CMWG4mbA.js";import{I as C}from"./input-error-Z2YkAEOG.js";import{A as S}from"./app-layout-DfcnZheQ.js";import{S as I}from"./layout-DBpPauTr.js";import{B as z}from"./index-DsAE6S8J.js";import{I as M}from"./input-B0f9F1lR.js";import{L as E}from"./label-BOOWJvQK.js";import{e as F}from"./index-BA3WRlAQ.js";import{C as y,d as j,a as P,b as Q,c as q}from"./card-CAnZI0ok.js";import{I as w,z as L}from"./transition-B7LBbnb0.js";import{s as h}from"./auth-BgAybA0k.js";import{I as T}from"./IconCheck-tCMtXFc1.js";/* empty css            */import"./chevron-right-CbrF_LyD.js";import"./separator-k2H2w11p.js";import"./index-2DkYc2p9.js";import"./index-B3vMSVka.js";import"./index-CKv6rp-i.js";import"./index-CWelApJs.js";import"./index-BSR4FWt4.js";import"./index-BJrNQDjd.js";/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828",key:"svg-0"}],["path",{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]],$=h("outline","eye-off","EyeOff",O);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]],H=h("outline","eye","Eye",A);/**
 * @license @tabler/icons-react v3.35.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M5 13a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2v6a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-6z",key:"svg-0"}],["path",{d:"M11 16a1 1 0 1 0 2 0a1 1 0 0 0 -2 0",key:"svg-1"}],["path",{d:"M8 11v-4a4 4 0 1 1 8 0v4",key:"svg-2"}]],U=h("outline","lock","Lock",R),o=s=>({url:o.url(s),method:"get"});o.definition={methods:["get","head"],url:"/settings/password"};o.url=s=>o.definition.url+g(s);o.get=s=>({url:o.url(s),method:"get"});o.head=s=>({url:o.url(s),method:"head"});const x=s=>({action:o.url(s),method:"get"});x.get=s=>({action:o.url(s),method:"get"});x.head=s=>({action:o.url({[s?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...s?.query??s?.mergeQuery??{}}}),method:"get"});o.form=x;const c=s=>({url:c.url(s),method:"put"});c.definition={methods:["put"],url:"/settings/password"};c.url=s=>c.definition.url+g(s);c.put=s=>({url:c.url(s),method:"put"});const b=s=>({action:c.url({[s?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...s?.query??s?.mergeQuery??{}}}),method:"post"});b.put=s=>({action:c.url({[s?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...s?.query??s?.mergeQuery??{}}}),method:"post"});c.form=b;const v={update:c},B=[{title:"Sécurité du compte",href:F().url}];function Z({password:s}){if(!s)return null;const r=(t=>{let l=0;return t.length>=8&&l++,t.match(/[a-z]/)&&t.match(/[A-Z]/)&&l++,t.match(/\d/)&&l++,t.match(/[^a-zA-Z\d]/)&&l++,l})(s),a=["Très faible","Faible","Moyen","Fort","Très fort"],n=["bg-red-500","bg-orange-500","bg-yellow-500","bg-blue-500","bg-green-500"];return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Force du mot de passe"}),e.jsx("span",{className:`font-medium ${r>=4?"text-green-600":r>=3?"text-blue-600":r>=2?"text-yellow-600":r>=1?"text-orange-600":"text-red-600"}`,children:a[r]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${n[r]||"bg-red-500"}`,style:{width:`${r/4*100}%`}})})]})}function p({id:s,label:i,ref:r,error:a,value:n,onChange:t,placeholder:l,autoComplete:d}){const[u,N]=m.useState(!1);return e.jsxs("div",{className:"space-y-2",children:[e.jsx(E,{htmlFor:s,className:"text-sm font-medium",children:i}),e.jsxs("div",{className:"relative",children:[e.jsx(M,{id:s,ref:r,name:s,type:u?"text":"password",value:n,onChange:_=>t(_.target.value),className:"pr-10",autoComplete:d,placeholder:l}),e.jsx("button",{type:"button",onClick:()=>N(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:u?e.jsx($,{className:"h-4 w-4"}):e.jsx(H,{className:"h-4 w-4"})})]}),e.jsx(C,{message:a})]})}function D({processing:s,recentlySuccessful:i,errors:r,formData:a,onFormDataChange:n}){const t=m.useRef(null),l=m.useRef(null);return e.jsxs(y,{children:[e.jsxs(P,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5 text-blue-600"}),e.jsx(Q,{children:"Sécurité du mot de passe"})]}),e.jsx(q,{children:"Utilisez un mot de passe long et complexe pour protéger votre compte"})]}),e.jsx(j,{className:"space-y-6",children:e.jsx(f,{...v.update.form(),options:{preserveScroll:!0},resetOnError:["password","password_confirmation","current_password"],resetOnSuccess:!0,onError:d=>{d.password&&t.current?.focus(),d.current_password&&l.current?.focus()},children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(p,{id:"current_password",label:"Mot de passe actuel",ref:l,error:r.current_password,value:a.current_password,onChange:d=>n("current_password",d),placeholder:"Entrez votre mot de passe actuel",autoComplete:"current-password"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(p,{id:"password",label:"Nouveau mot de passe",ref:t,error:r.password,value:a.password,onChange:d=>n("password",d),placeholder:"Choisissez un nouveau mot de passe",autoComplete:"new-password"}),e.jsx(Z,{password:a.password})]}),e.jsx(p,{id:"password_confirmation",label:"Confirmer le mot de passe",ref:null,error:r.password_confirmation,value:a.password_confirmation,onChange:d=>n("password_confirmation",d),placeholder:"Confirmez votre nouveau mot de passe",autoComplete:"new-password"}),e.jsx("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(z,{type:"submit",disabled:s,className:"min-w-[140px]",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),s?"Mise à jour...":"Mettre à jour"]}),e.jsx(L,{show:i,enter:"transition-all duration-300 ease-out",enterFrom:"opacity-0 transform -translate-x-2",enterTo:"opacity-100 transform translate-x-0",leave:"transition-all duration-300 ease-in",leaveFrom:"opacity-100 transform translate-x-0",leaveTo:"opacity-0 transform -translate-x-2",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:[e.jsx(T,{className:"h-4 w-4"}),"Mot de passe mis à jour"]})})]})})]})})})]})}function xe(){const[s,i]=m.useState({current_password:"",password:"",password_confirmation:""}),r=(a,n)=>{i(t=>({...t,[a]:n}))};return e.jsxs(S,{breadcrumbs:B,children:[e.jsx(k,{title:"Sécurité du mot de passe"}),e.jsx(I,{children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Sécurité du compte"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Gérez votre mot de passe et les paramètres de sécurité"})]}),e.jsx(y,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",children:e.jsx(j,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(w,{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Conseils pour un mot de passe sécurisé"}),e.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[e.jsx("li",{children:"• Utilisez au moins 12 caractères"}),e.jsx("li",{children:"• Combinez lettres, chiffres et symboles"}),e.jsx("li",{children:"• Évitez les mots du dictionnaire"}),e.jsx("li",{children:"• Ne réutilisez pas d'anciens mots de passe"})]})]})]})})}),e.jsx(f,{...v.update.form(),options:{preserveScroll:!0},resetOnError:["password","password_confirmation","current_password"],resetOnSuccess:!0,children:({errors:a,processing:n,recentlySuccessful:t})=>e.jsx(D,{processing:n,recentlySuccessful:t,errors:a,formData:s,onFormDataChange:r})})]})})]})}export{xe as default};
