import{j as e,H as N,L as h}from"./app-B3Y0P8eL.js";import{A as v}from"./app-layout-BmrSMU7B.js";import{s as t,B as l,f as C}from"./index-BS9Mkhtc.js";import{C as n,a as d,b as o,c as y,d as c}from"./card-B6WQ6knZ.js";import{B as i}from"./auth-ClV7ZO7P.js";import{A as L}from"./arrow-left-D1RE6sKu.js";import{P as A}from"./package-BLdoJui-.js";import{S as b}from"./shield-C7o9xOdp.js";import{D as u}from"./download-BmkC4sJt.js";/* empty css            */import"./chevron-right-CR-mXq2c.js";import"./index-BJlpveyn.js";import"./index-DOpKAXXZ.js";import"./index-B7VOcpwy.js";import"./index-ChXgRNoH.js";function O({product:j,canDownload:w=!1,hasActiveLicense:P=!1,hasPaidOrder:T=!1}){if(!j)return e.jsxs(v,{breadcrumbs:[{title:"Catalogue",href:t("catalogs")},{title:"Produit",href:""}],children:[e.jsx(N,{title:"Produit"}),e.jsx("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs(n,{children:[e.jsxs(d,{children:[e.jsx(o,{children:"Produit introuvable"}),e.jsx(y,{children:"Revenez au catalogue pour sélectionner un produit."})]}),e.jsx(c,{children:e.jsx(l,{asChild:!0,variant:"outline",children:e.jsx(h,{href:t("catalogs"),children:"Retour au catalogue"})})})]})})]});const s=j,p=r=>{const a=(r||"").toLowerCase();return a==="software"?"Logiciel":a==="plugin"?"Extension":a==="template"?"Modèle":a==="addon"?"Module":a==="bundle"?"Pack":r||"Logiciels"},f=typeof s.price_cents=="number"?s.price_cents:0,x=f>0,m=!!s.requires_license,g=s.size?`${Math.round(s.size/(1024*1024)*10)/10} Mo`:"—";return e.jsxs(v,{breadcrumbs:[{title:"Catalogue",href:t("catalogs")},{title:s.name,href:""}],children:[e.jsx(N,{title:s.name}),e.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsx(l,{variant:"ghost",asChild:!0,children:e.jsxs(h,{href:t("catalogs"),className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4"})," Retour"]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(n,{className:"lg:col-span-2 overflow-hidden",children:[e.jsxs(d,{children:[e.jsx(o,{className:"text-2xl",children:s.name}),e.jsx(y,{children:s.description}),e.jsxs("div",{className:"mt-3 flex flex-wrap gap-3 text-xs text-muted-foreground",children:[e.jsxs("span",{children:["Catégorie : ",e.jsx("span",{className:"font-medium",children:p(s.category)||"—"})]}),e.jsxs("span",{children:["Version : ",e.jsx("span",{className:"font-medium",children:s.version||"—"})]}),s.sku&&e.jsxs("span",{children:["SKU : ",e.jsx("span",{className:"font-medium",children:s.sku})]}),e.jsxs("span",{children:["Taille : ",e.jsx("span",{className:"font-medium",children:g})]})]})]}),e.jsxs(c,{children:[e.jsx("div",{className:"aspect-video rounded-xl bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center",children:e.jsx(A,{className:"h-12 w-12 text-primary"})}),e.jsxs("div",{className:"mt-6 flex flex-wrap items-center gap-3",children:[e.jsxs(i,{variant:"outline",children:["Version ",s.version]}),e.jsx(i,{variant:"outline",children:p(s.category)}),m&&e.jsx(i,{variant:"secondary",children:"Nécessite une licence"}),x?e.jsx(i,{variant:"default",children:C(f)}):e.jsx(i,{variant:"secondary",children:"Gratuit"}),s.tags?.map((r,a)=>e.jsx(i,{variant:"secondary",children:r},a))]})]})]}),e.jsxs("div",{className:"space-y-6",children:[Array.isArray(s.security)&&s.security.length>0?e.jsxs(n,{children:[e.jsx(d,{children:e.jsx(o,{className:"text-lg",children:"Licence & Sécurité"})}),e.jsx(c,{className:"space-y-3",children:s.security.map((r,a)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border",children:[e.jsx(b,{className:"h-4 w-4 text-primary"})," ",r]},a))})]}):e.jsxs(n,{children:[e.jsx(d,{children:e.jsx(o,{className:"text-lg",children:"Licence & Sécurité"})}),e.jsx(c,{className:"space-y-2",children:e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border",children:[e.jsx(b,{className:"h-4 w-4 text-base"})," Téléchargement sécurisé"]})})]}),Array.isArray(s.features)&&s.features.length>0&&e.jsxs(n,{children:[e.jsx(d,{children:e.jsx(o,{className:"text-lg",children:"Fonctionnalités"})}),e.jsx(c,{className:"flex flex-wrap gap-2",children:s.features.map((r,a)=>e.jsx(i,{variant:"outline",className:"text-xs",children:r},a))})]}),e.jsx(n,{children:e.jsxs(c,{className:"flex flex-col items-start p-6",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-lg font-semibold",children:"Téléchargement du logiciel"}),m?e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Accès via une licence",x?" (payante)":"","."]}):x?e.jsx("div",{className:"text-xs text-muted-foreground",children:"Achat requis avant téléchargement."}):e.jsx("div",{className:"text-xs text-muted-foreground",children:"Téléchargement gratuit"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Taille : ",g]})]}),e.jsx("div",{className:"flex mt-4 items-center gap-4",children:s.download_url?w?e.jsx(l,{variant:"outline",className:"gap-2",asChild:!0,children:e.jsxs("a",{href:t("downloads.start",s.id),children:[e.jsx(u,{className:"h-4 w-4"})," Télécharger"]})}):e.jsxs(e.Fragment,{children:[e.jsxs(l,{variant:"outline",className:"gap-2",disabled:!0,children:[e.jsx(u,{className:"h-4 w-4"})," Télécharger"]}),(x||m)&&e.jsx(l,{asChild:!0,children:e.jsx(h,{href:t("catalogs.purchase",s.id),method:"post",children:"Payer"})})]}):e.jsxs(l,{variant:"outline",className:"gap-2",disabled:!0,children:[e.jsx(u,{className:"h-4 w-4"})," Téléchargement non disponible"]})})]})})]})]})]})]})}export{O as default};
