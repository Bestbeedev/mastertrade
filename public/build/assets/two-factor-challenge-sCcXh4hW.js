import{r as s,j as e,H as x,F as h}from"./app-B3Y0P8eL.js";import{I as u}from"./input-error-BgWcJS8z.js";import{B as j}from"./index-BS9Mkhtc.js";import{I as g}from"./input-B58C95N6.js";import{I as v,K as y,O as d,a as I,b as C}from"./use-two-factor-auth-DB65UIni.js";import{A as T}from"./auth-layout-E-BNkygI.js";import{s as N}from"./index-B3vMSVka.js";/* empty css            */import"./index-CMWG4mbA.js";function P(){const[t,l]=s.useState(!1),[m,n]=s.useState(""),o=s.useMemo(()=>t?{title:"Code de récupération",description:"Veuillez confirmer l’accès à votre compte en saisissant l’un de vos codes de récupération.",toggleText:"se connecter avec un code d'authentification"}:{title:"Code d'authentification",description:"Saisissez le code d'authentification fourni par votre application d'authentification.",toggleText:"se connecter avec un code de récupération"},[t]),p=r=>{l(!t),r(),n("")};return e.jsxs(T,{title:o.title,description:o.description,children:[e.jsx(x,{title:"Authentification à deux facteurs"}),e.jsx("div",{className:"space-y-6",children:e.jsx(h,{...N.form(),className:"space-y-4",resetOnError:!0,resetOnSuccess:!t,children:({errors:r,processing:a,clearErrors:f})=>e.jsxs(e.Fragment,{children:[t?e.jsxs(e.Fragment,{children:[e.jsx(g,{name:"recovery_code",type:"text",placeholder:"Saisissez un code de récupération",autoFocus:t,required:!0}),e.jsx(u,{message:r.recovery_code})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center space-y-3 text-center",children:[e.jsx("div",{className:"flex w-full items-center justify-center",children:e.jsx(v,{name:"code",maxLength:d,value:m,onChange:i=>n(i),disabled:a,pattern:y,children:e.jsx(I,{children:Array.from({length:d},(i,c)=>e.jsx(C,{index:c},c))})})}),e.jsx(u,{message:r.code})]}),e.jsx(j,{type:"submit",className:"w-full",disabled:a,children:"Continuer"}),e.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[e.jsx("span",{children:"ou vous pouvez "}),e.jsx("button",{type:"button",className:"cursor-pointer text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",onClick:()=>p(f),children:o.toggleText})]})]})})})]})}export{P as default};
